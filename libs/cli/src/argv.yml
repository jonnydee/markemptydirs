name: MarkEmptyDirs
author: Johann Duscher <jonny.dee@gmx.net>
about: Manage marker files marking empty directories
args:
    - exclude-dirs:
        help: Exclude specified directories
        long: exclude
        short: X
        value_name: DIR
        takes_value: true
        multiple: true
        default_value: .cvs, .git, .svn
    - verbose:
        help: Sets the level of verbosity
        long: verbose
        short: v
        multiple: true
    - marker-name:
        help: Sets the marker's file name
        long: marker-name
        short: m
        default_value: .emptydir
    - dereference-symlinks:
        help: Follow symlinks
        long: deref-symlinks
        short: L
subcommands:
    - list:
        about: List markers 'clashing' with non-empty directories,
               'correct' markers residing in otherwise empty directories,
               and markers 'missing' in empty directories.
        args:
            - root-dirs:
                help: Directory to start from
                value_name: DIR
                multiple: true
            - filter:
                help: Filters the set of markers listed
                long: filter
                value_name: SPEC
                takes_value: true
                multiple: true
                value_delimiter: ","
                possible_values:
                    - clashing
                    - correct
                    - missing
    - update:
        about: Update markers in directory tree
        args:
            - create-hook:
                help: Command to execute when marker is created
                long: create-hook
                takes_value: true
            - delete-hook:
                help: Command to execute when marker is deleted
                long: delete-hook
                takes_value: true
            - substitute-variables:
                help: Substitute variables
                long: subst-vars
            - dry-run:
                help: Dry run
                long: dry-run
            - root-dirs:
                help: Directory to start from
                value_name: DIR
                multiple: true
    - clean:
        about: Delete all markers in directory tree
        args:
            - delete-hook:
                help: Command to execute when marker is deleted
                long: delete-hook
                takes_value: true
            - dry-run:
                help: Dry run
                long: dry-run
            - root-dirs:
                help: Directory to start from
                value_name: DIR
                multiple: true
    - purge:
        about: Delete everything in directories containing markers
        args:
            - dry-run:
                help: Dry run
                long: dry-run
            - root-dirs:
                help: Directory to start from
                value_name: DIR
                multiple: true
